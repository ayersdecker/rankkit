[debug] [2026-02-20T04:31:11.202Z] ----------------------------------------------------------------------
[debug] [2026-02-20T04:31:11.205Z] Command:       /usr/local/share/nvm/versions/node/v24.11.1/bin/node /usr/local/share/nvm/versions/node/v24.11.1/bin/firebase deploy --only functions:openaiChatProxy --project rankkit-1a209
[debug] [2026-02-20T04:31:11.205Z] CLI Version:   15.5.1
[debug] [2026-02-20T04:31:11.205Z] Platform:      linux
[debug] [2026-02-20T04:31:11.205Z] Node Version:  v24.11.1
[debug] [2026-02-20T04:31:11.205Z] Time:          Fri Feb 20 2026 04:31:11 GMT+0000 (Coordinated Universal Time)
[debug] [2026-02-20T04:31:11.206Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-20T04:31:12.432Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-20T04:31:12.432Z] > authorizing via signed-in user (ayersdecker@gmail.com)
[debug] [2026-02-20T04:31:12.433Z] [iam] checking project rankkit-1a209 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-20T04:31:12.434Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.434Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.434Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions [none]
[debug] [2026-02-20T04:31:12.435Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions  x-goog-user-project=rankkit-1a209
[debug] [2026-02-20T04:31:12.435Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-20T04:31:12.521Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions 200
[debug] [2026-02-20T04:31:12.522Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-20T04:31:12.522Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.522Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.522Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/rankkit-1a209/serviceAccounts/rankkit-1a209@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-20T04:31:12.522Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/rankkit-1a209/serviceAccounts/rankkit-1a209@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-20T04:31:12.588Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/rankkit-1a209/serviceAccounts/rankkit-1a209@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2026-02-20T04:31:12.588Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/rankkit-1a209/serviceAccounts/rankkit-1a209@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'rankkit-1a209'...
[info] 
[info] i  deploying functions 
[debug] [2026-02-20T04:31:12.591Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.591Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.591Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209 [none]
[debug] [2026-02-20T04:31:12.688Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209 200
[debug] [2026-02-20T04:31:12.688Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209 {"projectNumber":"613612674236","projectId":"rankkit-1a209","lifecycleState":"ACTIVE","name":"rankkit","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-02-03T12:12:38.957815Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-20T04:31:12.690Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.690Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:12.690Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/rankkit-1a209/adminSdkConfig [none]
[debug] [2026-02-20T04:31:13.005Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/rankkit-1a209/adminSdkConfig 200
[debug] [2026-02-20T04:31:13.006Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/rankkit-1a209/adminSdkConfig {"projectId":"rankkit-1a209","storageBucket":"rankkit-1a209.firebasestorage.app"}
[debug] [2026-02-20T04:31:13.006Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:13.006Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:13.007Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/rankkit-1a209/configs [none]
[debug] [2026-02-20T04:31:13.119Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/rankkit-1a209/configs 200
[debug] [2026-02-20T04:31:13.119Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/rankkit-1a209/configs {}
[debug] [2026-02-20T04:31:13.121Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 20 will be deprecated on 2026-04-30 and will be decommissioned on 2026-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2026-02-20T04:31:13.531Z] > [functions] package.json contents: {
  "name": "rankkit-functions",
  "private": true,
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.0.1",
    "openai": "^5.22.0"
  },
  "devDependencies": {
    "http-proxy-middleware": "^3.0.5"
  }
}
[debug] [2026-02-20T04:31:13.531Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-20T04:31:13.533Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-20T04:31:13.538Z] Found firebase-functions binary at '/workspaces/rankkit/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8425

[debug] [2026-02-20T04:31:13.842Z] Got response from /__/functions.yaml {"endpoints":{"openaiChatProxy":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","region":["us-central1"],"secretEnvironmentVariables":[{"key":"OPENAI_API_KEY"}],"labels":{},"httpsTrigger":{},"entryPoint":"openaiChatProxy"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2026-02-20T04:31:17.872Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-20T04:31:17.872Z] > authorizing via signed-in user (ayersdecker@gmail.com)
[debug] [2026-02-20T04:31:17.873Z] [iam] checking project rankkit-1a209 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2026-02-20T04:31:17.873Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:17.873Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:17.873Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions [none]
[debug] [2026-02-20T04:31:17.873Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions  x-goog-user-project=rankkit-1a209
[debug] [2026-02-20T04:31:17.873Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2026-02-20T04:31:17.934Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions 200
[debug] [2026-02-20T04:31:17.934Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2026-02-20T04:31:17.935Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:17.935Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:17.935Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/rankkit-1a209/instances pageSize=100&pageToken=
[debug] [2026-02-20T04:31:18.186Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/rankkit-1a209/instances 200
[debug] [2026-02-20T04:31:18.186Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/rankkit-1a209/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /workspaces/rankkit/functions (32.41 KB) for uploading 
[debug] [2026-02-20T04:31:18.221Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:18.222Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:18.222Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/rankkit-1a209/locations/-/functions [none]
[debug] [2026-02-20T04:31:18.631Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/rankkit-1a209/locations/-/functions 200
[debug] [2026-02-20T04:31:18.631Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/rankkit-1a209/locations/-/functions {}
[debug] [2026-02-20T04:31:18.631Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:18.631Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:18.631Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2026-02-20T04:31:19.037Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/-/functions 200
[debug] [2026-02-20T04:31:19.037Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/-/functions {}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2026-02-20T04:31:19.040Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.040Z] Checked if tokens are valid: true, expires at: 1771563980688
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2026-02-20T04:31:19.040Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.040Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.040Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2026-02-20T04:31:19.040Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/pubsub.googleapis.com:generateServiceIdentity  x-goog-user-project=613612674236
[debug] [2026-02-20T04:31:19.040Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2026-02-20T04:31:19.041Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2026-02-20T04:31:19.041Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/eventarc.googleapis.com:generateServiceIdentity  x-goog-user-project=613612674236
[debug] [2026-02-20T04:31:19.041Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2026-02-20T04:31:19.330Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2026-02-20T04:31:19.330Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-613612674236@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"107279791484669026711"}}
[debug] [2026-02-20T04:31:19.347Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2026-02-20T04:31:19.347Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/613612674236/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-613612674236@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"110040979606897342219"}}
[info] i  functions: ensuring required API secretmanager.googleapis.com is enabled... 
[debug] [2026-02-20T04:31:19.348Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.348Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.349Z] >>> [apiv2][query] GET https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY/versions/latest [none]
[debug] [2026-02-20T04:31:19.427Z] <<< [apiv2][status] GET https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY/versions/latest 200
[debug] [2026-02-20T04:31:19.427Z] <<< [apiv2][body] GET https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY/versions/latest {"name":"projects/613612674236/secrets/OPENAI_API_KEY/versions/1","createTime":"2026-02-20T04:31:05.590690Z","state":"ENABLED","replicationStatus":{"automatic":{}},"etag":"\"164b39e3b237a2\""}
[debug] [2026-02-20T04:31:19.428Z] Resolved secret version of OPENAI_API_KEY to 1.
[debug] [2026-02-20T04:31:19.429Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.429Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.429Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209 [none]
[debug] [2026-02-20T04:31:19.521Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209 200
[debug] [2026-02-20T04:31:19.521Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209 {"projectNumber":"613612674236","projectId":"rankkit-1a209","lifecycleState":"ACTIVE","name":"rankkit","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-02-03T12:12:38.957815Z"}
[debug] [2026-02-20T04:31:19.521Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.521Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.521Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/613612674236 [none]
[debug] [2026-02-20T04:31:19.625Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/613612674236 403
[debug] [2026-02-20T04:31:19.625Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/613612674236 {"error":{"code":403,"message":"Compute Engine API has not been used in project 613612674236 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 613612674236 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"containerInfo":"613612674236","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236","serviceTitle":"Compute Engine API","consumer":"projects/613612674236","service":"compute.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 613612674236 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236"}]}]}}
[debug] [2026-02-20T04:31:19.626Z] unable to look up default compute service account. Falling back to 613612674236-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 613612674236 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 613612674236 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"containerInfo":"613612674236","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236","serviceTitle":"Compute Engine API","consumer":"projects/613612674236","service":"compute.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 613612674236 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/613612674236 had HTTP Error: 403, Compute Engine API has not been used in project 613612674236 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=613612674236 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[info] i  functions: ensuring 613612674236-compute@developer.gserviceaccount.com access to secret OPENAI_API_KEY. 
[debug] [2026-02-20T04:31:19.626Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.626Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.626Z] >>> [apiv2][query] GET https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY:getIamPolicy [none]
[debug] [2026-02-20T04:31:19.789Z] <<< [apiv2][status] GET https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY:getIamPolicy 200
[debug] [2026-02-20T04:31:19.790Z] <<< [apiv2][body] GET https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY:getIamPolicy {"etag":"ACAB"}
[debug] [2026-02-20T04:31:19.790Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.790Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:19.790Z] >>> [apiv2][query] POST https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY:setIamPolicy [none]
[debug] [2026-02-20T04:31:19.790Z] >>> [apiv2][body] POST https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY:setIamPolicy {"policy":{"bindings":[{"role":"roles/secretmanager.secretAccessor","members":["serviceAccount:613612674236-compute@developer.gserviceaccount.com"]}]},"updateMask":"bindings"}
[debug] [2026-02-20T04:31:20.173Z] <<< [apiv2][status] POST https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY:setIamPolicy 200
[debug] [2026-02-20T04:31:20.173Z] <<< [apiv2][body] POST https://secretmanager.googleapis.com/v1/projects/rankkit-1a209/secrets/OPENAI_API_KEY:setIamPolicy {"version":1,"etag":"BwZLOeSPo0w=","bindings":[{"role":"roles/secretmanager.secretAccessor","members":["serviceAccount:613612674236-compute@developer.gserviceaccount.com"]}]}
[info] ✔  secretmanager: Granted roles/secretmanager.secretAccessor on projects/rankkit-1a209/secrets/OPENAI_API_KEY to 613612674236-compute@developer.gserviceaccount.com 
[info] ✔  functions: ensured 613612674236-compute@developer.gserviceaccount.com access to OPENAI_API_KEY. 
[debug] [2026-02-20T04:31:20.174Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:20.174Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:20.174Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/rankkit-1a209/billingInfo [none]
[debug] [2026-02-20T04:31:20.277Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/rankkit-1a209/billingInfo 200
[debug] [2026-02-20T04:31:20.278Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/rankkit-1a209/billingInfo {"name":"projects/rankkit-1a209/billingInfo","projectId":"rankkit-1a209","billingAccountName":"billingAccounts/011B33-CCF9B2-ACDAF6","billingEnabled":true}
[debug] [2026-02-20T04:31:20.279Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2026-02-20T04:31:20.279Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:20.279Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:20.279Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions [none]
[debug] [2026-02-20T04:31:20.279Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions  x-goog-user-project=rankkit-1a209
[debug] [2026-02-20T04:31:20.279Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2026-02-20T04:31:20.334Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions 200
[debug] [2026-02-20T04:31:20.334Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/rankkit-1a209:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2026-02-20T04:31:20.334Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2026-02-20T04:31:20.335Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:20.335Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:20.335Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2026-02-20T04:31:21.781Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/functions:generateUploadUrl 200
[debug] [2026-02-20T04:31:21.781Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-613612674236.us-central1.cloudfunctions.appspot.com/f1b11b25-fa47-4c62-b3ac-3ff651aefcfa.zip?GoogleAccessId=service-613612674236@gcf-admin-robot.iam.gserviceaccount.com&Expires=1771563681&Signature=hnra3cxfLkXDlho8FrBp9yUyvW45hpQyy%2FcVrrpiLL23rfjdhVCD8A80F7JhBCWCtZMrVy57MNPm9EkSvyLWAMGkS81%2BOXALi%2FsmTIhrRXYrmjG8gbQDCDOajt1F0Z%2F88n5GVdcLZS1kh5hqiSfmLMfW9xOM5FqymQC9C1565tSeJGSK3JBcmaZ7P4VoV4gnCAzpIo%2Bo5q6DLsF3UNTlHsmZyp%2BflOfdiiiLjQ7qrw0quWERGFIKaZbk8pn1xhuiHFqPhObC2kGTvZM7NkcbEWKJU2DQQBI4mH6%2FEE6FKrFhTe8OKjW38gUXz%2FJqf7Ce1u0ytVznIPlujtFVlMoUsg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-613612674236.us-central1.cloudfunctions.appspot.com","object":"f1b11b25-fa47-4c62-b3ac-3ff651aefcfa.zip"}}
[debug] [2026-02-20T04:31:21.782Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-613612674236.us-central1.cloudfunctions.appspot.com/f1b11b25-fa47-4c62-b3ac-3ff651aefcfa.zip GoogleAccessId=service-613612674236%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1771563681&Signature=hnra3cxfLkXDlho8FrBp9yUyvW45hpQyy%2FcVrrpiLL23rfjdhVCD8A80F7JhBCWCtZMrVy57MNPm9EkSvyLWAMGkS81%2BOXALi%2FsmTIhrRXYrmjG8gbQDCDOajt1F0Z%2F88n5GVdcLZS1kh5hqiSfmLMfW9xOM5FqymQC9C1565tSeJGSK3JBcmaZ7P4VoV4gnCAzpIo%2Bo5q6DLsF3UNTlHsmZyp%2BflOfdiiiLjQ7qrw0quWERGFIKaZbk8pn1xhuiHFqPhObC2kGTvZM7NkcbEWKJU2DQQBI4mH6%2FEE6FKrFhTe8OKjW38gUXz%2FJqf7Ce1u0ytVznIPlujtFVlMoUsg%3D%3D
[debug] [2026-02-20T04:31:21.782Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-613612674236.us-central1.cloudfunctions.appspot.com/f1b11b25-fa47-4c62-b3ac-3ff651aefcfa.zip [stream]
[debug] [2026-02-20T04:31:21.912Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-613612674236.us-central1.cloudfunctions.appspot.com/f1b11b25-fa47-4c62-b3ac-3ff651aefcfa.zip 200
[debug] [2026-02-20T04:31:21.912Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-613612674236.us-central1.cloudfunctions.appspot.com/f1b11b25-fa47-4c62-b3ac-3ff651aefcfa.zip [omitted]
[info] ✔  functions: functions source uploaded successfully 
[info] i  functions: creating Node.js 20 (2nd Gen) function openaiChatProxy(us-central1)... 
[debug] [2026-02-20T04:31:21.915Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:21.915Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:21.916Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/functions functionId=openaiChatProxy
[debug] [2026-02-20T04:31:21.916Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/functions {"name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-uploads-613612674236.us-central1.cloudfunctions.appspot.com","object":"f1b11b25-fa47-4c62-b3ac-3ff651aefcfa.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","secret":"OPENAI_API_KEY","projectId":"rankkit-1a209","version":"1"}],"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"}}
[debug] [2026-02-20T04:31:23.392Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/functions 200
[debug] [2026-02-20T04:31:23.392Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/functions {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2026-02-20T04:31:23.393Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:23.393Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:23.393Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:31:23.589Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:31:23.589Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2026-02-20T04:31:24.089Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:31:24.089Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:24.089Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:24.089Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:31:24.276Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:31:24.276Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 20 is no longer supported by the Node.js community as of 30 April, 2026. Node.js 20 will be deprecated on 2026-04-30. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2026-02-20T04:31:25.276Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:31:25.277Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:25.277Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:25.277Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:31:25.356Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:31:25.356Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 20 is no longer supported by the Node.js community as of 30 April, 2026. Node.js 20 will be deprecated on 2026-04-30. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2026-02-20T04:31:27.357Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:31:27.357Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:27.357Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:27.357Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:31:27.548Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:31:27.548Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 20 is no longer supported by the Node.js community as of 30 April, 2026. Node.js 20 will be deprecated on 2026-04-30. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2026-02-20T04:31:31.548Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:31:31.548Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:31.548Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:31.548Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:31:31.651Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:31:31.651Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 20 is no longer supported by the Node.js community as of 30 April, 2026. Node.js 20 will be deprecated on 2026-04-30. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2026-02-20T04:31:39.653Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:31:39.654Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:39.654Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:39.654Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:31:39.862Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:31:39.863Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/139ac169-3028-4115-a183-29aa47bbdfbc?project=613612674236"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc"},"done":false}
[debug] [2026-02-20T04:31:49.868Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:31:49.868Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:49.868Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:31:49.868Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:31:50.072Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:31:50.072Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/139ac169-3028-4115-a183-29aa47bbdfbc?project=613612674236"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc"},"done":false}
[debug] [2026-02-20T04:32:00.077Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:32:00.078Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:00.078Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:00.078Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:32:00.179Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:32:00.180Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/139ac169-3028-4115-a183-29aa47bbdfbc?project=613612674236"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc"},"done":false}
[debug] [2026-02-20T04:32:10.181Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:32:10.181Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:10.181Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:10.182Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:32:10.384Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:32:10.384Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/139ac169-3028-4115-a183-29aa47bbdfbc?project=613612674236"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc"},"done":false}
[debug] [2026-02-20T04:32:20.389Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:32:20.389Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:20.389Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:20.389Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:32:20.594Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:32:20.595Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/139ac169-3028-4115-a183-29aa47bbdfbc?project=613612674236"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc"},"done":false}
[debug] [2026-02-20T04:32:30.600Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:32:30.600Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:30.600Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:30.600Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:32:30.803Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:32:30.803Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/139ac169-3028-4115-a183-29aa47bbdfbc?project=613612674236"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/openaichatproxy?project=rankkit-1a209"}],"sourceToken":"Cldwcm9qZWN0cy82MTM2MTI2NzQyMzYvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xMzlhYzE2OS0zMDI4LTQxMTUtYTE4My0yOWFhNDdiYmRmYmMScHVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3JhbmtraXQtMWEyMDkvZ2NmLWFydGlmYWN0cy9yYW5ra2l0LS0xYTIwOV9fdXMtLWNlbnRyYWwxX19vcGVuYWlfY2hhdF9wcm94eTp2ZXJzaW9uXzEYvLmp8e0RIkZwcm9qZWN0cy9yYW5ra2l0LTFhMjA5L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb3BlbmFpQ2hhdFByb3h5KgwI3cffzAYQuIbSpgIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc"},"done":false}
[debug] [2026-02-20T04:32:30.803Z] Got source token Cldwcm9qZWN0cy82MTM2MTI2NzQyMzYvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xMzlhYzE2OS0zMDI4LTQxMTUtYTE4My0yOWFhNDdiYmRmYmMScHVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3JhbmtraXQtMWEyMDkvZ2NmLWFydGlmYWN0cy9yYW5ra2l0LS0xYTIwOV9fdXMtLWNlbnRyYWwxX19vcGVuYWlfY2hhdF9wcm94eTp2ZXJzaW9uXzEYvLmp8e0RIkZwcm9qZWN0cy9yYW5ra2l0LTFhMjA5L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb3BlbmFpQ2hhdFByb3h5KgwI3cffzAYQuIbSpgIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2026-02-20T04:32:40.808Z] [create-default-us-central1-openaiChatProxy] Retrying task index 0
[debug] [2026-02-20T04:32:40.808Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:40.808Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:40.808Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 [none]
[debug] [2026-02-20T04:32:41.006Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 200
[debug] [2026-02-20T04:32:41.007Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1 {"name":"projects/rankkit-1a209/locations/us-central1/operations/operation-1771561881978-64b39e4ac4857-19e6ca61-79aa17b1","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2026-02-20T04:31:23.318866454Z","endTime":"2026-02-20T04:32:39.714263023Z","target":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/139ac169-3028-4115-a183-29aa47bbdfbc?project=613612674236"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"COMPLETE","resource":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/openaichatproxy?project=rankkit-1a209"}],"sourceToken":"Cldwcm9qZWN0cy82MTM2MTI2NzQyMzYvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xMzlhYzE2OS0zMDI4LTQxMTUtYTE4My0yOWFhNDdiYmRmYmMScHVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3JhbmtraXQtMWEyMDkvZ2NmLWFydGlmYWN0cy9yYW5ra2l0LS0xYTIwOV9fdXMtLWNlbnRyYWwxX19vcGVuYWlfY2hhdF9wcm94eTp2ZXJzaW9uXzEYvLmp8e0RIkZwcm9qZWN0cy9yYW5ra2l0LTFhMjA5L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb3BlbmFpQ2hhdFByb3h5KgwI3cffzAYQuIbSpgIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE=","operationType":"CREATE_FUNCTION","buildName":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc"},"done":true,"response":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/rankkit-1a209/locations/us-central1/functions/openaiChatProxy","buildConfig":{"build":"projects/613612674236/locations/us-central1/builds/139ac169-3028-4115-a183-29aa47bbdfbc","runtime":"nodejs20","entryPoint":"openaiChatProxy","source":{"storageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/rankkit-1a209/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-613612674236-us-central1","object":"openaiChatProxy/function-source.zip","generation":"1771561882850123"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/rankkit-1a209/serviceAccounts/613612674236-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/rankkit-1a209/locations/us-central1/services/openaichatproxy","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"rankkit-1a209\",\"storageBucket\":\"rankkit-1a209.firebasestorage.app\"}","GCLOUD_PROJECT":"rankkit-1a209","EVENTARC_CLOUD_EVENT_SOURCE":"projects/rankkit-1a209/locations/us-central1/services/openaiChatProxy","FUNCTION_TARGET":"openaiChatProxy","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://openaichatproxy-w5r72w57ea-uc.a.run.app","serviceAccountEmail":"613612674236-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"secretEnvironmentVariables":[{"key":"OPENAI_API_KEY","projectId":"rankkit-1a209","secret":"OPENAI_API_KEY","version":"1"}],"revision":"openaichatproxy-00001-fiq","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2026-02-20T04:31:23.311418411Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"e1ab7fe7e3e7b3a1f0960b80bde866a890201f7f"},"environment":"GEN_2","url":"https://us-central1-rankkit-1a209.cloudfunctions.net/openaiChatProxy","createTime":"2026-02-20T04:31:23.311418411Z","satisfiesPzi":true}}
[debug] [2026-02-20T04:32:41.007Z] Got source token Cldwcm9qZWN0cy82MTM2MTI2NzQyMzYvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xMzlhYzE2OS0zMDI4LTQxMTUtYTE4My0yOWFhNDdiYmRmYmMScHVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3JhbmtraXQtMWEyMDkvZ2NmLWFydGlmYWN0cy9yYW5ra2l0LS0xYTIwOV9fdXMtLWNlbnRyYWwxX19vcGVuYWlfY2hhdF9wcm94eTp2ZXJzaW9uXzEYvLmp8e0RIkZwcm9qZWN0cy9yYW5ra2l0LTFhMjA5L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb3BlbmFpQ2hhdFByb3h5KgwI3cffzAYQuIbSpgIyCG5vZGVqczIwOnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMjA6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczIwQAE= for region us-central1
[debug] [2026-02-20T04:32:41.008Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:41.008Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:41.008Z] >>> [apiv2][query] POST https://run.googleapis.com/v1/projects/rankkit-1a209/locations/us-central1/services/openaichatproxy:setIamPolicy [none]
[debug] [2026-02-20T04:32:41.008Z] >>> [apiv2][body] POST https://run.googleapis.com/v1/projects/rankkit-1a209/locations/us-central1/services/openaichatproxy:setIamPolicy {"policy":{"bindings":[{"role":"roles/run.invoker","members":["allUsers"]}],"etag":"","version":3},"updateMask":"bindings,etag,version"}
[debug] [2026-02-20T04:32:41.432Z] <<< [apiv2][status] POST https://run.googleapis.com/v1/projects/rankkit-1a209/locations/us-central1/services/openaichatproxy:setIamPolicy 200
[debug] [2026-02-20T04:32:41.433Z] <<< [apiv2][body] POST https://run.googleapis.com/v1/projects/rankkit-1a209/locations/us-central1/services/openaichatproxy:setIamPolicy {"version":1,"etag":"BwZLOelnvbs=","bindings":[{"role":"roles/run.invoker","members":["allUsers"]}]}
[info] ✔  functions[openaiChatProxy(us-central1)] Successful create operation. 
[debug] [2026-02-20T04:32:41.437Z] Total Function Deployment time: 79519
[debug] [2026-02-20T04:32:41.437Z] 1 Functions Deployed
[debug] [2026-02-20T04:32:41.437Z] 0 Functions Errored
[debug] [2026-02-20T04:32:41.437Z] 0 Function Deployments Aborted
[debug] [2026-02-20T04:32:41.437Z] Average Function Deployment time: 79519
[info] Function URL (openaiChatProxy(us-central1)): https://us-central1-rankkit-1a209.cloudfunctions.net/openaiChatProxy
[debug] [2026-02-20T04:32:41.459Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:41.459Z] Checked if tokens are valid: true, expires at: 1771563980688
[debug] [2026-02-20T04:32:41.459Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/rankkit-1a209/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2026-02-20T04:32:41.567Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/rankkit-1a209/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2026-02-20T04:32:41.568Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/rankkit-1a209/locations/us-central1/repositories/gcf-artifacts {"name":"projects/rankkit-1a209/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2026-02-20T04:31:31.595872Z","updateTime":"2026-02-20T04:32:22.486290Z","mode":"STANDARD_REPOSITORY","sizeBytes":"89463458","vulnerabilityScanningConfig":{"lastEnableTime":"2026-02-20T04:31:23.506918604Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/rankkit-1a209/gcf-artifacts"}
[warn] ⚠  functions: No cleanup policy detected for repositories in us-central1. This may result in a small monthly bill as container images accumulate over time. 
[debug] [2026-02-20T04:33:27.877Z] ExitPromptError: User force closed the prompt with SIGINT
    at Interface.sigint (/usr/local/share/nvm/versions/node/v24.11.1/lib/node_modules/firebase-tools/node_modules/@inquirer/core/dist/commonjs/lib/create-prompt.js:101:37)
    at Interface.emit (node:events:508:28)
    at [_ttyWrite] [as _ttyWrite] (node:internal/readline/interface:1317:18)
    at ReadStream.onkeypress (node:internal/readline/interface:284:20)
    at ReadStream.emit (node:events:520:35)
    at emitKeys (node:internal/readline/utils:371:14)
    at emitKeys.next (<anonymous>)
    at ReadStream.onData (node:internal/readline/emitKeypressEvents:64:36)
    at ReadStream.emit (node:events:508:28)
    at addChunk (node:internal/streams/readable:559:12)
[error] 
[error] Error: An unexpected error has occurred.
